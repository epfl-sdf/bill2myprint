{% extends "bill2myprint/base.html" %}
{% load static %}
{% load templatetags %}

{% block template_main %}

    {% if rallonge_list %}
        <div class="page-header">
          <h1>Rallonges facultaires</h1>
        </div>

    {% if rallonge_list %}
        <div class="row">
          <div>
            <table data-toggle="table" class="table table-striped table-bordered table-hover">
              <thead>
                <tr>
                  <th data-field="faculty" data-sortable="true">Section</th>
                  <th data-field="date" data-sortable="true">Date</th>
                  <th data-field="amount" data-sortable="true">Montant</th>
                </tr>
              </thead>
              <tbody>
          	{% for rallonge in rallonge_list %}
                <tr>
		  <!-- Regex removes the "Rallonge", " ", date and anything after "_" -->
                  <td>{{ rallonge.transactiondata|cutre:"(Rallonge)|(\d{2}\.\d{4})|(_.*)|( )" }}</td>
                  <td>{{ rallonge.amount }}</td>
                </tr>
          	{% endfor %}
              </tbody>
            </table>
          </div>
        </div>

    {% else %}
      <p>An error occurred. No data is available.</p>
    {% endif %}

{% endblock %}
